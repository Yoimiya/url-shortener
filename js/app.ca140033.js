(function(e){function t(t){for(var n,a,u=t[0],s=t[1],l=t[2],p=0,d=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,u=1;u<r.length;u++){var s=r[u];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://cdn.jsdelivr.net/gh/Yoimiya/url-shortener@gh-pages/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("8bbf"),o=r.n(n),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{class:{"small-screen":e.smallScreen}},[r("v-main",[r("v-layout",{attrs:{id:"app",column:"","align-center":"","justify-center":""}},[r("div",{attrs:{id:"url-input"}},[r("v-text-field",{attrs:{rules:[e.urlRule],disabled:e.loading,dense:e.smallScreen,type:"url",placeholder:"http(s)://",autocomplete:"off","validate-on-blur":"",filled:"",rounded:"",clearable:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.shortenUrl(t)}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[r("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.canNotShorten,"x-large":!e.smallScreen,rounded:"",depressed:""},on:{click:e.shortenUrl}},[e._v("Short it!")])]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),r("div",{class:{"no-result":!e.shortenedUrl},attrs:{id:"shorten-result"}},[r("v-text-field",{attrs:{value:e.shortenedUrl,type:"text",readonly:"","append-outer-icon":"mdi-content-copy"},on:{"click:append-outer":e.copyResult,focus:e.onShortResultFocus}}),r("v-tooltip",{attrs:{activator:"#shorten-result .v-input__icon--append-outer",right:""}},[r("span",[e._v(e._s(e.showCopiedTooltip?e.copySuccess?"Copied":"Copy failed":"copy"))])])],1),r("snackbar",{ref:"snackbar"})],1)],1)],1)},a=[],u=(r("d3b7"),r("25f0"),r("498a"),r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",e._b({model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},"v-snackbar",e.$attrs,!1),[e._v(e._s(e.text))])},l=[],c={name:"snackbar",data:function(){return{isShow:!1,text:""}},methods:{show:function(e){this.text=e,this.isShow=!0}}},p=c,d=r("2877"),f=r("6544"),h=r.n(f),m=r("2db4"),v=Object(d["a"])(p,s,l,!1,null,null,null),b=v.exports;h()(v,{VSnackbar:m["a"]});var y=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(navigator&&"permissions"in navigator&&"clipboard"in navigator){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,navigator.permissions.query({name:t});case 4:if(r=e.sent.state,"granted"===r||"prompt"===r){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y("clipboard-write");case 2:if(!e.sent){e.next=5;break}return navigator.clipboard.writeText(t),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=/^https?:\/\/[\w_-]+(\.[\w_-]+)+[!-~]*$|^$/,x={name:"App",components:{Snackbar:b},data:function(){return{title:location.hostname,loading:!1,url:"",lastUrl:"",shortenedUrl:"",showCopiedTooltip:!1,copiedTooltipTimeout:null,copySuccess:!0}},computed:{trimedUrl:function(){return(this.url||"").trim()},isUrlValid:function(){return w.test(this.trimedUrl)},canNotShorten:function(){return this.loading||!this.trimedUrl||!this.isUrlValid},smallScreen:function(){return this.$vuetify.breakpoint.xs}},methods:{urlRule:function(){return this.isUrlValid||"Is not a valid URL"},shortenUrl:function(){var e=this;if(!this.canNotShorten&&this.trimedUrl!==this.lastUrl)return this.shortenedUrl="",this.loading=!0,fetch("/shorten",{method:"POST",body:JSON.stringify({url:this.trimedUrl}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var r=t.code,n=t.msg,o=t.url;if(0!==r)throw new Error(n);e.shortenedUrl=o,e.lastUrl=e.trimedUrl})).catch((function(t){e.$refs.snackbar.show(t.toString())})).finally((function(){e.loading=!1}))},copyResult:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g(e.shortenedUrl);case 2:e.copySuccess=t.sent,e.showCopiedTooltip=!0,e.copiedTooltipTimeout&&clearTimeout(e.copiedTooltipTimeout),e.copiedTooltipTimeout=setTimeout((function(){e.showCopiedTooltip=!1,e.copiedTooltipTimeout=null}),3e3);case 6:case"end":return t.stop()}}),t)})))()},onShortResultFocus:function(){var e=document.querySelector("#shorten-result input");e.selectionStart=0,e.selectionEnd=e.value.length}}},S=x,k=(r("5c0b"),r("7496")),T=r("8336"),U=r("a722"),_=r("f6c4"),O=r("8654"),j=r("3a2f"),R=Object(d["a"])(S,i,a,!1,null,null,null),V=R.exports;h()(R,{VApp:k["a"],VBtn:T["a"],VLayout:U["a"],VMain:_["a"],VTextField:O["a"],VTooltip:j["a"]});var P=r("f309"),$=r("fcf4");o.a.use(P["a"]);var C=new P["a"]({theme:{themes:{light:{primary:$["a"].lightBlue.base}}}});o.a.config.productionTip=!1,new o.a({vuetify:C,render:function(e){return e(V)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"8bbf":function(e,t){e.exports=Vue},"9c0c":function(e,t,r){}});